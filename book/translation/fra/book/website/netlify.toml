# example netlify.toml
[build]
  base = "book/website"
  command = "pip install -r requirements.txt && jupyter-book build ."
  publish = "book/website/fra/_build/html"

[dev]
  command = "npm run serve" # Command to start your dev server
  targetPort = 5004 # Port that the dev server will be listening on
  publish = "_build/html" # Folder with the static content for _redirect file

  [[redirects]]
    from = "/en/*"
    to = "http://localhost:8888/:splat"
    status = 200
    
   [[redirects]]
    from = "/fra/*"
    to = "http://localhost:8888/:splat"
    status = 200

  [[redirects]]
    from = "/ar/*"
    to = "http://localhost:51397/ar/:splat"
    status = 200
    
    # A redirect rule with all the supported properties
  [[redirects]]
    # Root page changed in https://github.com/alan-turing-institute/the-turing-way/pull/2994
    from = "/welcome"
    to = "/index.html"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/reproducible-research"
    to = "fra/reproducible-research/reproducible-research"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/communication"
    to = "fra/communication/communication"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/collaboration"
    to = "fra/collaboration/collaboration"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/project-design"
    to = "fra/project-design/project-design"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/ethical-research"
    to = "fra/ethical-research/ethical-research"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/community-handbook"
    to = "fra/community-handbook/community-handbook"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/version_control/*"
    to = "fra/reproducible-research/vcs"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true

  [[redirects]]
    from = "/binderhub/*"
    to = "fra/reproducible-research/binderhub"
    # The default HTTP status code is 301, but you can define a different one.
    status = 301
    force = true


    ## more info on configuring this file: https://docs.netlify.com/configure-builds/file-based-configuration/
